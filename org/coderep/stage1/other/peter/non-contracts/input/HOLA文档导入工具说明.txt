HOLA后台导入工具使用说明

使用简介：

　　整个导入过程描述出来就是HOLA程序，通过读取本机文件或挂载在本机的文件，将读
取到的文件写到HOLA系统中的一系列操作。

	HOLA后台导入工具使用非常简单，只有一条命令行就可以实现。而导入过程中，比较
繁琐的就是如何让HOLA程序能够读到需要上传的文件。下面的文档将以常见客户环境为基
础，详细描述导入过程。

环境描述：

1.	需要导入的文件存放在一台windows server 2003 服务器上。（其它windows server
或者windows 系统使用方式步骤类似）
  
2.	HOLA系统部署在linux服务器，版本为centos 6.* （其它linux发行版本使用方式
步骤类似）。

3.	保证两台两台机器可以连通。
	
操作过程：

1.	在windows server 2003服务器设置共享目录。

我的电脑中E盘下，有个名为“导入文件“的文件夹，该文件夹存放着需要导入的文件。
右键该文件夹—属性—共享—共享此文件夹—权限—添加—添加—立即查找—添加一个可
以读取该目录权限的用户。
 
确定即可。我的共享目录为“192.168.1.52:/导入文件“,用户名为admin，密码为123456.

2.	登陆hola服务器挂载该目录。

建议使用putty或SecureCRT工具进行操作，其他工具如果不支持utf8编码的话，挂载后文
件名称会出现乱码。

挂载共享
#mount -t cifs -o username=admin,password=123456 //192.168.1.52/导入文件 /mnt
执行后，需要导入文件的共享文件夹，挂载到了linux服务器/mnt目录。
 

3.	导入文件到HOLA服务器。

进入工具存放路径
#cd /opt/quetzaco/quetapp/tools/import_util/

执行批量导入工具，空格后跟要导入文件夹所在路径
#sh import.sh “要导入的文件夹路径”
例：#sh import.sh “/mnt/” 执行后会提示你输入HOLA用户的用户名和密码，最好使用普通
用户的身份进行导入操作，如果使用管理员用户导入那么其他用户就不可见了。

然后根据提示选择工作区，文档柜，文件夹，最后开始导入。
导入完成后命令行会输出导入成功个数，导入失败个数。如果导入失败会列出导入失败多文
件目录和名称。
没有错误，就可以登录到HOLA系统中进行查看。

注：
#sh import.sh  /mnt 在所导入的路径中会mnt文件夹。
#sh import.sh  /mnt/ 则不会创建mnt文件夹，只是把mnt文件夹下的文件或目录导入到
HOLA系统中。

注：
如果想知道导入花费了多长时间，可以在导入命令前加上time命令，如下。
#time sh import /mnt 
 

注：
导入完成后，需要取消挂载。
#cd /
#umount /mnt

